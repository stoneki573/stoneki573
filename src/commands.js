const Markup = require('telegraf/markup');
const gameLogic = require('./gameLogic');

module.exports = {
  setup: (bot) => {
    // –ö–æ–º–∞–Ω–¥–∞ /start
    bot.start((ctx) => {
      ctx.reply('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä —Ç–µ–ø–ª–æ–≤–æ–∑–∞ –≤ –ø–∞–Ω–µ–ª—å–Ω–æ–º –¥–æ–º–µ!', Markup.keyboard([
        ['üöÇ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–ø–ª–æ–≤–æ–∑–æ–º', 'üë• –û–±—â–µ–Ω–∏–µ —Å NPC'],
        ['ü©∫ –ü–æ—Å–µ—â–µ–Ω–∏–µ –≤—Ä–∞—á–∞', '‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏']
      ]).resize());
    });

    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–ø–ª–æ–≤–æ–∑–æ–º
    bot.hears('üöÇ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–ø–ª–æ–≤–æ–∑–æ–º', (ctx) => {
      ctx.reply('–ß—Ç–æ –±—É–¥–µ—à—å –¥–µ–ª–∞—Ç—å?', Markup.inlineKeyboard([
        [Markup.button.callback('–ï—Ö–∞—Ç—å –≤–ø–µ—Ä—ë–¥', 'move_forward')],
        [Markup.button.callback('–í–∫–ª—é—á–∏—Ç—å –ø–∞—Ä', 'enable_steam')]
      ]));
    });

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π
    bot.action('move_forward', (ctx) => {
      ctx.reply('–¢–µ–ø–ª–æ–≤–æ–∑ –Ω–∞—á–∞–ª –¥–≤–∏–∂–µ–Ω–∏–µ!');
    });

    bot.action('enable_steam', (ctx) => {
      ctx.reply('–ü–∞—Ä –≤–∫–ª—é—á—ë–Ω! –¢–µ–ø–ª–æ–≤–æ–∑ –≥–æ—Ç–æ–≤ –∫ –ø–æ–ª—ë—Ç—É.');
    });

    // –î—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã...
  }
};